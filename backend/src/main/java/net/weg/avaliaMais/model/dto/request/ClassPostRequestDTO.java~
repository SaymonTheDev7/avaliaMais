public record ClassPostRequestDTO(

        @NotNull(message = "O UUID do curso não pode ser nulo")
        UUID courseUuid,  // O parâmetro será o UUID do curso

        List<UUID> studentIds,  // Lista de IDs de alunos, agora aceita vazio

        List<UUID> teacherIds,  // Lista de IDs de professores, agora aceita vazio

        @NotBlank(message = "O nome da turma não pode estar em branco")
        String nameClass,

        @NotNull(message = "A carga horária não pode ser nula")
        @Positive(message = "A carga horária deve ser positiva")
        Double workloadClass,

        @NotNull(message = "O tempo não pode ser nulo")
        @Positive(message = "O tempo deve ser positivo")
        Double time,

        @NotNull(message = "A quantidade de alunos não pode ser nula")
        @Positive(message = "A quantidade de alunos deve ser positiva")
        Integer quantityStudents,

        @NotBlank(message = "O turno não pode estar em branco")
        String shift

) {
    public ClassSchool converter(List<Course> allCourses, List<Student> allStudents, List<Teacher> allTeachers) {
        Course course = allCourses.stream()
                .filter(c -> c.getUuid().equals(courseUuid))
                .findFirst()
                .orElseThrow(() -> new RuntimeException("Curso não encontrado"));

        List<Student> studentsList = studentIds == null ? List.of() :
                allStudents.stream()
                        .filter(student -> studentIds.contains(student.getUuid()))
                        .toList();

        List<Teacher> teachersList = teacherIds == null ? List.of() :
                allTeachers.stream()
                        .filter(teacher -> teacherIds.contains(teacher.getUuid()))
                        .toList();

        return ClassSchool.builder()
                .course(course)  // Aqui você deve usar 'course' ao invés de 'uuid_course'
                .students(studentsList)
                .teachers(teachersList)
                .nameClass(nameClass)
                .workloadClass(workloadClass)
                .time(time)
                .quantityStudents(quantityStudents)
                .shift(shift)
                .build();
    }
}
